# ========= Unotree clean URLs (.html hidden) =========
# Place this file at: public_html/.htaccess

RewriteEngine On
RewriteBase /

# Safety: avoid MultiViews messing with extensions
Options -MultiViews

# Serve existing files and folders directly
RewriteCond %{REQUEST_FILENAME} -f [OR]
RewriteCond %{REQUEST_FILENAME} -d
RewriteRule ^ - [L]

# --- Canonical redirects (SEO) ---
# /index.html  →  /
RewriteCond %{THE_REQUEST} \s/+index\.html[\s?] [NC]
RewriteRule ^index\.html$ / [R=301,L]

# /page.html  →  /page
RewriteCond %{THE_REQUEST} \s/+(.+?)\.html[\s?] [NC]
RewriteRule ^ %1 [R=301,L]

# --- Internal rewrites (no visible change) ---
# If the request is /page and /page.html exists, serve it
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteCond %{REQUEST_FILENAME}\.html -f
RewriteRule ^(.+)$ $1.html [L,QSA]

# Directory index
DirectoryIndex index.html